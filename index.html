<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Socket.io</title>
    </head>
 
    <body>
        <h1>Communication with socket.io!</h1>
		<form action="/" method="POST" id accept-charset="utf-8">
			
		
		<input type="text" id="input"  placeholder="type your message here" />
		<button id="sock" type="submit">Send</button>
		</form>
		<p id='reponse'></p>
		<p id='reponseinput'></p>
		<!--path to node module file socket -->
        <script src="/socket.io/socket.io.js"></script>       
		<!-- connect to correct port-->
	   <script>
            const socket = io.connect('http://localhost:9876');
			//remembers pseudo when someone logs in localhost 9876
			const  pseudo = prompt('What is your username ?');
			socket.emit('newSockConnecting', pseudo); //sends to the client
			//use method from socket library
			socket.on('message', (message) => {
			document.getElementById('reponse').innerHTML =' The master socket has a message for you : ' + message;
			});
			//when user clicks on element sock, message sent to server
			document.getElementById('sock').addEventListener('click', () => {
				const input = document.getElementById('input').value;
				console.log(input);
				socket.on('message', (message) => {
					document.getElementById('reponseinput').innerHTML = input;
			});

				socket.emit('message', 'Hello master socket, how are you?');
			
			});
        </script>
    </body>
</html>
